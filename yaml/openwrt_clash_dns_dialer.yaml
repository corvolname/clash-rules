# ========================================
# OpenClash é…ç½®æ–‡ä»¶ - å®Œæ•´ç»ˆæç‰ˆ
# åŠŸèƒ½ï¼šèŠ‚ç‚¹è®¢é˜…ã€DNSä¼˜åŒ–ã€ä»£ç†ç»„ä¼˜åŒ–ã€è§„åˆ™ä¼˜åŒ–ã€fake-ipæŒä¹…åŒ–
# DNSå¼ºæ±¡æŸ“ è®¢é˜…èŠ‚ç‚¹æ— æ³•æµ‹é€Ÿ éœ€è¦è‡³å°‘ä¸€ä¸ªå›½å†…èŠ‚ç‚¹
# ç‰ˆæœ¬ï¼šClash Meta
# ========================================

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ èŠ‚ç‚¹è®¢é˜…é…ç½® â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# èŠ‚ç‚¹æä¾›å™¨ï¼šç”¨äºè‡ªåŠ¨è·å–å’Œç®¡ç†è¿œç¨‹èŠ‚ç‚¹åˆ—è¡¨
proxy-providers:
  provider1:
    url: "è‡ªè¡Œæ›´æ¢"  # è®¢é˜…é“¾æ¥
    type: http                    # è®¢é˜…ç±»å‹ï¼šHTTP
    interval: 86400
    health-check:
      enable: true               # å¯ç”¨å¥åº·æ£€æŸ¥
      interval: 180               # æ£€æŸ¥é—´éš”ï¼š300ç§’
      lazy: true                 # æ‡’åŠ è½½æ¨¡å¼ï¼Œä½¿ç”¨æ—¶æ‰æ£€æŸ¥
      url: https://www.gstatic.com/generate_204  # å¥åº·æ£€æŸ¥URL

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ‰‹åŠ¨èŠ‚ç‚¹é…ç½® â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
proxies:
  # é“¾å¼è½åœ°èŠ‚ç‚¹ï¼šé€šè¿‡è‡ªåŠ¨é€‰æ‹©èŠ‚ç‚¹è¿›è¡ŒäºŒæ¬¡ä»£ç†
  - name: åŸç”Ÿè½åœ°
    type: socks5                   # èŠ‚ç‚¹ç±»å‹ï¼šSOCKS5
    server: æ›´æ¢åœ°å€       # æœåŠ¡å™¨åœ°å€
    port: 443                      # æœåŠ¡å™¨ç«¯å£
    username:         # ç”¨æˆ·å
    password:            # å¯†ç 
    udp: true                      # å¯ç”¨UDPè½¬å‘
    dialer-proxy: é¦™æ¸¯ä¼˜é€‰      # é€šè¿‡è‡ªåŠ¨é€‰æ‹©èŠ‚ç‚¹è¿æ¥

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å…¨å±€é…ç½® â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
mixed-port: 7893                            # æ··åˆä»£ç†ç«¯å£ï¼šHTTPå’ŒSOCKS5
allow-lan: true                             # å…è®¸å±€åŸŸç½‘è¿æ¥
ipv6: false                                 # ç¦ç”¨IPv6
bind-address: "*"                           # ç»‘å®šåœ°å€ï¼šæ‰€æœ‰æ¥å£
unified-delay: true                         # ç»Ÿä¸€å»¶è¿Ÿè®¡ç®—
mode: rule                                  # è¿è¡Œæ¨¡å¼ï¼šè§„åˆ™æ¨¡å¼
log-level: info                             # æ—¥å¿—çº§åˆ«ï¼šinfo
profile:                                    # é…ç½®æ–‡ä»¶è®¾ç½®
  store-selected: true                      # ä¿å­˜é€‰æ‹©çš„èŠ‚ç‚¹
  store-fake-ip: true                       # ä¿å­˜fake-ipæ˜ å°„
  
global-client-fingerprint: chrome           # å®¢æˆ·ç«¯æŒ‡çº¹ï¼šChrome
skip-auth-prefixes:                         # è·³è¿‡è®¤è¯çš„ç½‘æ®µ
  - 127.0.0.1/8                            # æœ¬åœ°å›ç¯
  - ::1/128                                 # IPv6æœ¬åœ°å›ç¯

experimental:                                # å®éªŒæ€§åŠŸèƒ½
  ignore-resolve-fail: true                 # å¿½ç•¥è§£æå¤±è´¥
  sniff-tls-sni: true                       # å—…æ¢TLS SNI

# ========================================
# æµé‡å—…æ¢å™¨é…ç½®
# ========================================
sniffer:
  enable: true                              # å¯ç”¨æµé‡å—…æ¢
  force-dns-mapping: true                   # å¼ºåˆ¶DNSæ˜ å°„
  parse-pure-ip: true                       # è§£æçº¯IPæµé‡
  sniff:                                    # å—…æ¢åè®®é…ç½®
    TLS:                                    # TLSåè®®å—…æ¢
      ports: [443, 8443]                   # HTTPSç«¯å£
    HTTP:                                   # HTTPåè®®å—…æ¢
      ports: [80, 8080, 8888, 9999]        # HTTPç«¯å£åˆ—è¡¨
  skip:                                     # è·³è¿‡å—…æ¢çš„ç½‘æ®µï¼ˆé¿å…è¯¯è¯†åˆ«ï¼‰
#    - 17.57.145.0/24                        # AppleæœåŠ¡ç½‘æ®µ
    - 17.0.0.0/8:443                         # AppleæœåŠ¡ç½‘æ®µ
#    - 104.16.0.0/12                         # Cloudflareç½‘æ®µ
#    - 172.64.0.0/13                         # Cloudflareç½‘æ®µ
#    - 108.138.0.0/16                        # AWSç½‘æ®µ
#    - 1.2.4.0/22                            # CNNICç½‘æ®µ
#    - 1.12.0.0/16                           # CNNICç½‘æ®µ
#    - 223.119.0.0/16                        # ä¸­å›½ç”µä¿¡ç½‘æ®µ
#    - 180.163.0.0/16                        # ä¸­å›½ç”µä¿¡ç½‘æ®µ
    - 0.0.0.0/0:139                         # SMBç«¯å£ç»•è¿‡
    - 0.0.0.0/0:445                         # SMBç«¯å£ç»•è¿‡
    - 0.0.0.0/0:137                         # NetBIOS Name Service
    - 0.0.0.0/0:138                         # NetBIOS Datagram Service

# ========================================
# TUNè™šæ‹Ÿç½‘å¡é…ç½®
# ========================================
tun:
  enable: true                              # å¯ç”¨TUNæ¨¡å¼
  stack: gvisor                             # ç½‘ç»œæ ˆï¼šgvisorï¼ˆæ€§èƒ½å¥½ï¼‰
#  device: utun                              # è®¾å¤‡åï¼šutunï¼ˆmacOSï¼‰
  endpoint-independent-nat: true            # ç«¯ç‚¹æ— å…³NAT
  auto-route: false                         # ç¦ç”¨è‡ªåŠ¨è·¯ç”±
  auto-detect-interface: false             # ç¦ç”¨è‡ªåŠ¨æ£€æµ‹æ¥å£
  auto-redirect: false                      # ç¦ç”¨è‡ªåŠ¨é‡å®šå‘
  strict-route: false                       # éä¸¥æ ¼è·¯ç”±æ¨¡å¼
  dns-hijack:                               # DNSåŠ«æŒç»•è¿‡SMB
    - any:53                               # åŠ«æŒæ‰€æœ‰DNS

# ========================================
# DNSï¼ˆé€‚é…â€œè¦†å†™è‡ªå®šä¹‰ DNS + æ— ä¸Šæ¸¸ DNSâ€ï¼‰
# ========================================
dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:7874
  respect-host-rules: true
  enhanced-mode: fake-ip
  fake-ip-filter-mode: blacklist
  fake-ip-range: 198.28.0.1/16
  default-nameserver-policy: false          # é»˜è®¤true falseå¿…å†™namepolicy  
  # Fake-IP æŒä¹…åŒ–é…ç½®
  fake-ip-store-persistence: true
  fake-ip-store-database: ./fake_ip.db

  # ç³»ç»Ÿé»˜è®¤DNSï¼ˆå›½å†…ç›´è¿ï¼‰
  default-nameserver:
    - 223.5.5.5
    - 114.114.114.114
  #ç›´è¿å‡ºå£è§£æ
  direct-nameserver:
    - 223.5.5.5
  proxy-server-nameserver:
    - https://dns.cloudflare.com/dns-query
    - https://dns.alidns.com/dns-query
  # å›½å†…DNS
  nameserver:
    - https://dns.alidns.com/dns-query
    - https://doh.pub/dns-query
  # å›½å¤– DNSï¼ˆè‡ªåŠ¨ä»£ç†ï¼‰
  fallback:
    - https://dns.cloudflare.com/dns-query
    - https://dns.google/dns-query

  nameserver-policy:
    'geosite:cn': ["60.191.244.5"]          # - https://dns.alidns.com/dns-query
    'geosite:!cn': ["https://dns.cloudflare.com/dns-query"]

  fake-ip-filter:
    - '*.lan'
    - localhost.ptlogin2.qq.com
    - '*.msftconnecttest.com'
    - '*.msftncsi.com'
    - 'stun.*.*'
    - '*.stun.*'
    - +.lan
    - +.local
    - +.nnmmn.cn       #è®¢é˜…åœ°å€ç›´è¿ä¸èµ°FAKEIP
    - geosite:cn
    - '*.smb'         # SMBç›¸å…³åŸŸå
    - '*.cifs'        # CIFSç›¸å…³åŸŸå

  fallback-filter:
    geoip: true
    geoip-code: CN
    geosite:
      - gfw
    ipcidr:
      - 240.0.0.0/4
    domain:
      - "+.google.com"
      - "+.facebook.com"
      - "+.youtube.com"
      - "+.x.com"
      - "+.openai.com"
      - "+.tiktok.com"
      - "+.icloud.com"
      - "+.apple.com"
      - "+.cloudflare.com"
      - "+.amazonaws.com"
      - "+.doubleclick.net"
      - "+.ghproxy.com"
# ========================
# ç­–ç•¥ç»„å®šä¹‰
# ========================
default: &default
  type: select
  proxies:
      - èŠ‚ç‚¹æ•…è½¬
      - æ—¥æœ¬ä¼˜é€‰                       # æ—¥æœ¬åœ°åŒºèŠ‚ç‚¹ç»„
      - ç¾å›½ä¼˜é€‰                       # ç¾å›½åœ°åŒºèŠ‚ç‚¹ç»„
      - æ–°åŠ å¡ä¼˜é€‰                      # æ–°åŠ å¡åœ°åŒºèŠ‚ç‚¹ç»„
      - é¦™æ¸¯ä¼˜é€‰                       # é¦™æ¸¯åœ°åŒºèŠ‚ç‚¹ç»„
      - å°æ¹¾ä¼˜é€‰                       # å°æ¹¾åœ°åŒºèŠ‚ç‚¹ç»„
      - æ¾³å¤§åˆ©äºšä¼˜é€‰                    # æ¾³å¤§åˆ©äºšåœ°åŒºèŠ‚ç‚¹ç»„
      - è‹±å›½ä¼˜é€‰                       # è‹±å›½åœ°åŒºèŠ‚ç‚¹ç»„
      - æ³•å›½ä¼˜é€‰                       # æ³•å›½åœ°åŒºèŠ‚ç‚¹ç»„
      - å¾·å›½ä¼˜é€‰                       # å¾·å›½åœ°åŒºèŠ‚ç‚¹ç»„
      - åŠ æ‹¿å¤§ä¼˜é€‰                     # åŠ æ‹¿å¤§åœ°åŒºèŠ‚ç‚¹ç»„
      - é“¾å¼ä¸“ç”¨                       # é“¾å¼è½åœ°ä¸“ç”¨
      - DIRECT                       # ç›´è¿æ¨¡å¼ 
      - å…¶ä»–ä¼˜é€‰                       # å…¶ä»–åœ°åŒºèŠ‚ç‚¹ç»„
      - å…¨éƒ¨ä¼˜é€‰                       # ä¼˜é€‰é€‰æ‹©æœ€å¿«èŠ‚ç‚¹

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ä»£ç†ç»„é…ç½® â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
proxy-groups:
  # ä¸»æ§åˆ¶å™¨ï¼šå…¨å±€èŠ‚ç‚¹é€‰æ‹©å™¨
  - {name: èŠ‚ç‚¹é€‰æ‹©, <<: *default}
  # ä¸šåŠ¡åˆ†æµç»„
  - {name: Google, <<: *default}
  - {name: openAI, <<: *default}
  - {name: Github, <<: *default}
  - {name: YouTube, <<: *default}  
  - {name: Telegram, <<: *default}
  
  - name: èŠ‚ç‚¹æ•…è½¬
    type: fallback
    proxies:
      - æ—¥æœ¬ä¼˜é€‰                       # æ—¥æœ¬åœ°åŒºèŠ‚ç‚¹ç»„
      - ç¾å›½ä¼˜é€‰                       # ç¾å›½åœ°åŒºèŠ‚ç‚¹ç»„
      - æ–°åŠ å¡ä¼˜é€‰                      # æ–°åŠ å¡åœ°åŒºèŠ‚ç‚¹ç»„
      - é¦™æ¸¯ä¼˜é€‰                       # é¦™æ¸¯åœ°åŒºèŠ‚ç‚¹ç»„
      - å°æ¹¾ä¼˜é€‰                       # å°æ¹¾åœ°åŒºèŠ‚ç‚¹ç»„
      - æ¾³å¤§åˆ©äºšä¼˜é€‰                    # æ¾³å¤§åˆ©äºšåœ°åŒºèŠ‚ç‚¹ç»„
      - è‹±å›½ä¼˜é€‰                       # è‹±å›½åœ°åŒºèŠ‚ç‚¹ç»„
      - æ³•å›½ä¼˜é€‰                       # æ³•å›½åœ°åŒºèŠ‚ç‚¹ç»„
      - å¾·å›½ä¼˜é€‰                       # å¾·å›½åœ°åŒºèŠ‚ç‚¹ç»„
      - åŠ æ‹¿å¤§ä¼˜é€‰                     # åŠ æ‹¿å¤§åœ°åŒºèŠ‚ç‚¹ç»„
      - å…¶ä»–ä¼˜é€‰                       # å…¶ä»–åœ°åŒºèŠ‚ç‚¹ç»„
      - å…¨éƒ¨ä¼˜é€‰                       # æ‰‹åŠ¨é€‰æ‹©æœ€å¿«èŠ‚ç‚¹

  # èŠ‚ç‚¹é€‰æ‹©ç»„
 # - {name: é¦™æ¸¯æ‰‹åŠ¨, type: select, include-all: true, filter: "(?=.*(å¹¿æ¸¯|é¦™æ¸¯|HK|Hong Kong|ğŸ‡­ğŸ‡°|HongKong)).*$"}
  - {name: é¦™æ¸¯ä¼˜é€‰, type: url-test, hidden: true, include-all: true, tolerance: 50, interval: 180, filter: "(?=.*(å¹¿æ¸¯|é¦™æ¸¯|HK|Hong Kong|ğŸ‡­ğŸ‡°|HongKong)).*$"}
#  - {name: é¦™æ¸¯å‡ºå£, type: fallback, hidden: true, interval: 180, lazy: false, proxies: [é¦™æ¸¯æ‰‹åŠ¨, é¦™æ¸¯ä¼˜é€‰]}
#  - {name: æ–°åŠ å¡æ‰‹åŠ¨, type: select, include-all: true, filter: "(?=.*(å¹¿æ–°|æ–°åŠ å¡|SG|å¡|ç‹®åŸ|ğŸ‡¸ğŸ‡¬|Singapore)).*$"}
  - {name: æ–°åŠ å¡ä¼˜é€‰, type: url-test, hidden: true, include-all: true, tolerance: 50, interval: 180, filter: "(?=.*(å¹¿æ–°|æ–°åŠ å¡|SG|å¡|ç‹®åŸ|ğŸ‡¸ğŸ‡¬|Singapore)).*$"}
#  - {name: æ–°åŠ å¡å‡ºå£, type: fallback, hidden: true, interval: 180, lazy: false, proxies: [æ–°åŠ å¡æ‰‹åŠ¨, æ–°åŠ å¡ä¼˜é€‰]}
#  - {name: ç¾å›½æ‰‹åŠ¨, type: select, include-all: true, filter: "(?=.*(å¹¿ç¾|US|ç¾å›½|çº½çº¦|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’|å‡¤å‡°åŸ|è´¹åˆ©è’™|æ´›æ‰|åœ£ä½•å¡|åœ£å…‹æ‹‰|è¥¿é›…|èŠåŠ |ğŸ‡ºğŸ‡¸|United States)).*$"}
  - {name: ç¾å›½ä¼˜é€‰, type: url-test, hidden: true, include-all: true, tolerance: 50, interval: 180, filter: "(?=.*(å¹¿ç¾|US|ç¾å›½|çº½çº¦|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’|å‡¤å‡°åŸ|è´¹åˆ©è’™|æ´›æ‰|åœ£ä½•å¡|åœ£å…‹æ‹‰|è¥¿é›…|èŠåŠ |ğŸ‡ºğŸ‡¸|United States)).*$"}
#  - {name: ç¾å›½å‡ºå£, type: fallback, hidden: true, interval: 180, lazy: false, proxies: [ç¾å›½æ‰‹åŠ¨, ç¾å›½ä¼˜é€‰]}
#  - {name: å°æ¹¾æ‰‹åŠ¨, type: select, include-all: true, filter: "(?=.*(å¹¿å°|å°æ¹¾|å°ç£|TW|Tai Wan|ğŸ‡¹ğŸ‡¼|ğŸ‡¨ğŸ‡³|TaiWan|Taiwan)).*$"}
  - {name: å°æ¹¾ä¼˜é€‰, type: url-test, hidden: true, include-all: true, tolerance: 50, interval: 180, filter: "(?=.*(å¹¿å°|å°æ¹¾|å°ç£|TW|Tai Wan|ğŸ‡¹ğŸ‡¼|ğŸ‡¨ğŸ‡³|TaiWan|Taiwan)).*$"}
#  - {name: å°æ¹¾å‡ºå£, type: fallback, hidden: true, interval: 180, lazy: false, proxies: [å°æ¹¾æ‰‹åŠ¨, å°æ¹¾ä¼˜é€‰]}
#  - {name: æ—¥æœ¬æ‰‹åŠ¨, type: select, include-all: true, filter: "(?=.*(å¹¿æ—¥|æ—¥æœ¬|JP|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|ğŸ‡¯ğŸ‡µ|Japan)).*$"}
  - {name: æ—¥æœ¬ä¼˜é€‰, type: url-test, hidden: true, include-all: true, tolerance: 50, interval: 180, filter: "(?=.*(å¹¿æ—¥|æ—¥æœ¬|JP|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|ğŸ‡¯ğŸ‡µ|Japan)).*$"}
#  - {name: æ—¥æœ¬å‡ºå£, type: fallback, hidden: true, interval: 180, lazy: false, proxies: [æ—¥æœ¬æ‰‹åŠ¨, æ—¥æœ¬ä¼˜é€‰]}
#  - {name: æ¾³å¤§åˆ©äºšæ‰‹åŠ¨, type: select, include-all: true, filter: "(?=.*(å¹¿æ¾³|æ¾³å¤§åˆ©äºš|æ¾³æ´²|AU|æ‚‰å°¼|å¢¨å°”æœ¬|ç€æ–¯|ğŸ‡¦ğŸ‡º|Australia)).*$"}
  - {name: æ¾³å¤§åˆ©äºšä¼˜é€‰, type: url-test, hidden: true, include-all: true, tolerance: 50, interval: 180, filter: "(?=.*(å¹¿æ¾³|æ¾³å¤§åˆ©äºš|æ¾³æ´²|AU|æ‚‰å°¼|å¢¨å°”æœ¬|ç€æ–¯|ğŸ‡¦ğŸ‡º|Australia)).*$"}
#  - {name: æ¾³å¤§åˆ©äºšå‡ºå£, type: fallback, hidden: true, interval: 180, lazy: false, proxies: [æ¾³å¤§åˆ©äºšæ‰‹åŠ¨, æ¾³å¤§åˆ©äºšä¼˜é€‰]}
#  - {name: è‹±å›½æ‰‹åŠ¨, type: select, include-all: true, filter: "(?=.*(å¹¿è‹±|è‹±å›½|UK|ä¼¦æ•¦|æ›¼å½»æ–¯ç‰¹|ğŸ‡¬ğŸ‡§|United Kingdom)).*$"}
  - {name: è‹±å›½ä¼˜é€‰, type: url-test, hidden: true, include-all: true, tolerance: 50, interval: 180, filter: "(?=.*(å¹¿è‹±|è‹±å›½|UK|ä¼¦æ•¦|æ›¼å½»æ–¯ç‰¹|ğŸ‡¬ğŸ‡§|United Kingdom)).*$"}
#  - {name: è‹±å›½å‡ºå£, type: fallback, hidden: true, interval: 180, lazy: false, proxies: [è‹±å›½æ‰‹åŠ¨, è‹±å›½ä¼˜é€‰]}
#  - {name: æ³•å›½æ‰‹åŠ¨, type: select, include-all: true, filter: "(?=.*(å¹¿æ³•|æ³•å›½|FR|å·´é»|é©¬èµ›|é‡Œæ˜‚|ğŸ‡«ğŸ‡·|France)).*$"}
  - {name: æ³•å›½ä¼˜é€‰, type: url-test, hidden: true, include-all: true, tolerance: 50, interval: 180, filter: "(?=.*(å¹¿æ³•|æ³•å›½|FR|å·´é»|é©¬èµ›|é‡Œæ˜‚|ğŸ‡«ğŸ‡·|France)).*$"}
#  - {name: æ³•å›½å‡ºå£, type: fallback, hidden: true, interval: 180, lazy: false, proxies: [æ³•å›½æ‰‹åŠ¨, æ³•å›½ä¼˜é€‰]}
#  - {name: å¾·å›½æ‰‹åŠ¨, type: select, include-all: true, filter: "(?=.*(å¹¿å¾·|å¾·å›½|DE|æŸæ—|æ³•å…°å…‹ç¦|æ…•å°¼é»‘|ğŸ‡©ğŸ‡ª|Germany)).*$"}
  - {name: å¾·å›½ä¼˜é€‰, type: url-test, hidden: true, include-all: true, tolerance: 50, interval: 180, filter: "(?=.*(å¹¿å¾·|å¾·å›½|DE|æŸæ—|æ³•å…°å…‹ç¦|æ…•å°¼é»‘|ğŸ‡©ğŸ‡ª|Germany)).*$"}
#  - {name: å¾·å›½å‡ºå£, type: fallback, hidden: true, interval: 180, lazy: false, proxies: [å¾·å›½æ‰‹åŠ¨, å¾·å›½ä¼˜é€‰]}
#  - {name: åŠ æ‹¿å¤§æ‰‹åŠ¨, type: select, include-all: true, filter: "(?=.*(å¹¿åŠ |åŠ æ‹¿å¤§|CA|æ¸©å“¥å|å¤šä¼¦å¤š|è’™ç‰¹åˆ©å°”|ğŸ‡¨ğŸ‡¦|Canada)).*$"}
  - {name: åŠ æ‹¿å¤§ä¼˜é€‰, type: url-test, hidden: true, include-all: true, tolerance: 50, interval: 180, filter: "(?=.*(å¹¿åŠ |åŠ æ‹¿å¤§|CA|æ¸©å“¥å|å¤šä¼¦å¤š|è’™ç‰¹åˆ©å°”|ğŸ‡¨ğŸ‡¦|Canada)).*$"}
#  - {name: åŠ æ‹¿å¤§å‡ºå£, type: fallback, hidden: true, interval: 180, lazy: false, proxies: [åŠ æ‹¿å¤§æ‰‹åŠ¨, åŠ æ‹¿å¤§ä¼˜é€‰]}
  - {name: å…¨éƒ¨ä¼˜é€‰, type: url-test, hidden: true, include-all: true, tolerance: 50, interval: 180, filter: "^((?!(ç›´è¿|æ‹’ç»|åŸç”Ÿè½åœ°|å‰©ä½™|é‡ç½®|åˆ°æœŸ|å¥—é¤|å¸®åŠ©|ç”µæŠ¥|å®˜ç½‘|å›½å†…)).)*$"}   
  - {name: å…¶ä»–ä¼˜é€‰, type: url-test, hidden: true, include-all: true, tolerance: 50, interval: 180, filter: "^((?!(ç›´è¿|æ‹’ç»|å¹¿æ¸¯|é¦™æ¸¯|HK|Hong Kong|ğŸ‡­ğŸ‡°|HongKong|å¹¿æ–°|æ–°åŠ å¡|SG|å¡|ç‹®åŸ|ğŸ‡¸ğŸ‡¬|Singapore|å¹¿ç¾|US|ç¾å›½|çº½çº¦|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’|å‡¤å‡°åŸ|è´¹åˆ©è’™|æ´›æ‰|åœ£ä½•å¡|åœ£å…‹æ‹‰|è¥¿é›…|èŠåŠ |ğŸ‡ºğŸ‡¸|United States|å¹¿å°|å°æ¹¾|å°ç£|TW|Tai Wan|ğŸ‡¹ğŸ‡¼|ğŸ‡¨ğŸ‡³|TaiWan|Taiwan|å¹¿æ—¥|æ—¥æœ¬|JP|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|ğŸ‡¯ğŸ‡µ|Japan|å›½å†…|è½åœ°)).)*$"} # |å¹¿æ¾³|æ¾³å¤§åˆ©äºš|æ¾³æ´²|AU|æ‚‰å°¼|å¢¨å°”æœ¬|ç€æ–¯|ğŸ‡¦ğŸ‡º|Australia|å¹¿è‹±|è‹±å›½|UK|ä¼¦æ•¦|æ›¼å½»æ–¯ç‰¹|ğŸ‡¬ğŸ‡§|United Kingdom|å¹¿æ³•|æ³•å›½|FR|å·´é»|é©¬èµ›|é‡Œæ˜‚|ğŸ‡«ğŸ‡·|France|å¹¿å¾·|å¾·å›½|DE|æŸæ—|æ³•å…°å…‹ç¦|æ…•å°¼é»‘|ğŸ‡©ğŸ‡ª|Germany|å¹¿åŠ |åŠ æ‹¿å¤§|CA|æ¸©å“¥å|å¤šä¼¦å¤š|è’™ç‰¹åˆ©å°”|ğŸ‡¨ğŸ‡¦|Canada
#  - {name: å…¶ä»–å‡ºå£, type: fallback, hidden: true, interval: 180, lazy: false, proxies: [å…¶ä»–æ‰‹åŠ¨, å…¶ä»–ä¼˜é€‰]}

  # ä¸“ç”¨é€‰æ‹©å™¨
  - {name: é“¾å¼ä¸“ç”¨, type: select, proxies: [åŸç”Ÿè½åœ°]}

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åˆ†æµè§„åˆ™ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
rules:
  # ---------- SMB/CIFS æœåŠ¡ç›´è¿ ----------
  - DST-PORT,139,DIRECT                       # SMBç«¯å£ç›´è¿
  - DST-PORT,445,DIRECT                       # SMBç«¯å£ç›´è¿
  - DST-PORT,137,DIRECT                       # NetBIOS Name Serviceç›´è¿
  - DST-PORT,138,DIRECT                       # NetBIOS Datagram Serviceç›´è¿
  - DOMAIN-SUFFIX,smb,DIRECT                  # SMBåŸŸåç›´è¿
  - DOMAIN-SUFFIX,cifs,DIRECT                 # CIFSåŸŸåç›´è¿
  - DOMAIN-SUFFIX,local,DIRECT                # æœ¬åœ°åŸŸåç›´è¿
  - DOMAIN-SUFFIX,lan,DIRECT                  # å±€åŸŸç½‘åŸŸåç›´è¿
  - DOMAIN-KEYWORD,cn,DIRECT
  - DOMAIN-SUFFIX,com.cn,DIRECT
  - DOMAIN-SUFFIX,net.cn,DIRECT
  - DOMAIN-SUFFIX,org.cn,DIRECT
  - DOMAIN-SUFFIX,edu.cn,DIRECT
  - DOMAIN-SUFFIX,gov.cn,DIRECT
  # ---------- Tik ----------
  - DOMAIN-KEYWORD,tiktok,é“¾å¼ä¸“ç”¨
  - DOMAIN-KEYWORD,byteoversea,é“¾å¼ä¸“ç”¨
  # ---------- RULE-SET ----------  
  - RULE-SET,TikTok_Domain,é“¾å¼ä¸“ç”¨
  - RULE-SET,TikTok_IP,é“¾å¼ä¸“ç”¨
  - RULE-SET,ChatGPT_Domain,openAI
  - RULE-SET,Claude_Domain,openAI
  - RULE-SET,Copilot_Domain,openAI
  - RULE-SET,Gemini_Domain,openAI
  - RULE-SET,GitHub_Domain,Github
  - RULE-SET,Amazon_Domain,Google
  - RULE-SET,Apple-CN_Domain,DIRECT
  - RULE-SET,Apple_Domain,Google
  - RULE-SET,Apple-Custome_Domain,Google
  - RULE-SET,Microsoft_Domain,Google
  - RULE-SET,Google_Domain,Google
  - RULE-SET,Telegram_Domain,Telegram
  - RULE-SET,Telegram_IP,Telegram,no-resolve
  - RULE-SET,Youtube_Domain,YouTube
  - RULE-SET,Direct_Domain,DIRECT
  - RULE-SET,Test_Domain,èŠ‚ç‚¹é€‰æ‹©          # China_Domain åŒ…å«è¯¥åŸŸå æ‰‹åŠ¨æˆªæ–­
  - RULE-SET,China_Domain,DIRECT
  - RULE-SET,China_IP,DIRECT,no-resolve
  - RULE-SET,Private_Domain,DIRECT
  - GEOIP,CN,DIRECT,no-resolve
  - MATCH,èŠ‚ç‚¹é€‰æ‹©

rule-anchor:
  ip: &ip {type: http, interval: 86400, behavior: ipcidr, format: mrs}
  domain: &domain {type: http, interval: 86400, behavior: domain, format: mrs}
  class: &class {type: http, interval: 86400, behavior: classical, format: text}

rule-providers:
  Test_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/corvolname/clash-rules/refs/heads/main/rules/check.list"}
  ChatGPT_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/openai.mrs"}
  Claude_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Claude/Claude.list"}
  Meta AI_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/MetaAi.list"}
  Perplexity_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/perplexity.mrs"}
  Copilot_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Copilot.list"}
  Gemini_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Gemini.list"}
  GitHub_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/github.mrs"}
  Amazon_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/amazon.mrs"}
  Apple-CN_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/apple-cn.mrs"}
  Apple_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/apple.mrs"} 
  Apple-Custome_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Apple.list"}
  Microsoft_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/microsoft.mrs"}
  OKX_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/okx.mrs"}
  Bybit_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/bybit.mrs"}
  Binance_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/binance.mrs"}
  TikTok_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/tiktok.mrs"}
  TikTok_IP: {<<: *class, url: "https://gh-proxy.com/https://raw.githubusercontent.com/corvolname/clash-rules/refs/heads/main/rules/tiktokip.list"}
  Netflix_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/netflix.mrs"}
  Netflix_IP: {<<: *ip, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geoip/netflix.mrs"}
  Disney_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/disney.mrs"}
  HBO_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/hbo.mrs"}
  Spotify_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/spotify.mrs"}
  Steam_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/steam.mrs"}
  Epic_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Epic/Epic.list"}
  EA_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/EA/EA.list"}
  Blizzard_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Blizzard/Blizzard.list"}
  UBI_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/UBI/UBI.list"}
  PlayStation_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/PlayStation/PlayStation.list"}
  Nintend_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Nintendo/Nintendo.list"}
  Proxy_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Proxy.list"}
  Globe_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Global/Global.list"} 
  Block_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Block.list"}
  Nvidia_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Nvidia/Nvidia.list"}
  Crunchyroll_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Crunchyroll.list"}
  Reddit_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/reddit.mrs"}
  Groq_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/groq.mrs"}
  Grok_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Grok.list"}
  Popcorn_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Popcorn.list"}

  Adobe_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Adobe/Adobe.list"}
  AdobeActivation_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/AdobeActivation/AdobeActivation.list"}

  Google_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/google.mrs"}  
  Google_IP: {<<: *ip, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geoip/google.mrs"}

  Sex_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Sex.list"}
  Direct_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Direct.list"}
  Private_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/private.mrs"}
  China_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/corvolname/clash-rules/refs/heads/main/rules/chinadomain.list"}
  China_IP: {<<: *ip, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geoip/cn.mrs"}
  Twitter_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/x.mrs"}
  WhatsApp_Domain: {<<: *class, url: "https://gh-proxy.com/raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Whatsapp/Whatsapp.list"}
  Facebook_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/facebook.mrs"}
  Telegram_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/telegram.mrs"}  
  Telegram_IP: {<<: *ip, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geoip/telegram.mrs"}
  Youtube_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/youtube.mrs"}  


#  GateFireWall_Domain: {<<: *domain, url: "https://gh-proxy.com/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/gfw.mrs"}
 

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åœ°ç†æ•°æ®åº“é…ç½® â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ç”¨äºIPåœ°ç†ä½ç½®è¯†åˆ«å’ŒåŸŸååˆ†ç±»
geodata-mode: true                           # å¯ç”¨åœ°ç†æ•°æ®åº“æ¨¡å¼
geo-auto-update: true                        # è‡ªåŠ¨æ›´æ–°åœ°ç†æ•°æ®åº“
geo-update-interval: 24                      # æ›´æ–°é—´éš”ï¼š24å°æ—¶
global-ua: clash.meta                       # å…¨å±€User-Agentæ ‡è¯†
geox-url:                                   # åœ°ç†æ•°æ®åº“ä¸‹è½½åœ°å€
  GeoIP: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip-lite.dat"     # IPåœ°ç†ä½ç½®æ•°æ®åº“
  GeoSite: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat"       # åŸŸååˆ†ç±»æ•°æ®åº“
  Country: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country-lite.mmdb"    # å›½å®¶æ•°æ®åº“
  ASN: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/GeoLite2-ASN.mmdb"      # ASNæ•°æ®åº“
